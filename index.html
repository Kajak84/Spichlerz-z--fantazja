<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Spichlerz z FantazjƒÖ</title>

<style>
body { font-family: Arial, sans-serif; margin: 0; background-color: #e4d09b; overflow-x: hidden; }
header { background-color: #000; color: white; padding: 20px; text-align: center; }
.hero-image { width: 100%; display: flex; justify-content: center; margin: 20px 0; overflow: hidden; height: 400px; }
.hero-image img { width: 100%; height: 100%; object-fit: contain; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
.hero { display: flex; justify-content: center; flex-wrap: wrap; gap: 20px; padding: 20px; }
.hero a img { width: 300px; height: auto; border-radius: 10px; object-fit: cover; transition: transform 0.5s ease, filter 0.5s ease; }
.hero a img:hover { transform: scale(1.08) rotateY(3deg); filter: brightness(1.1); }
.section { padding: 40px; text-align: center; opacity: 0; transform: translateY(30px); transition: all 1s ease; }
.section.visible { opacity: 1; transform: translateY(0); }
.about { background-color: #fef3e2; }
.daily-special { background-color: #fff9ef; }
#qr { background-color: rgba(254, 243, 226, 1); }
footer { background:#000; color:#FFF; padding:20px; text-align:center; }

.language-switcher { position: fixed; top: 10px; right: 10px; z-index: 999; background: rgba(255, 255, 255, 0.9); padding: 6px 10px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.2); }

/* === SWITCHER P√ìR ROKU === */
.season-switcher {
  position: fixed;
  top: 60px;
  right: 10px;
  z-index: 999;
  display: flex;
  flex-direction: column;
  gap: 5px;
}
.season-switcher button {
  padding: 6px 10px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  font-size: 14px;
  background: rgba(255,255,255,0.9);
  transition: 0.3s;
}
.season-switcher button:hover {
  background: #000;
  color: #fff;
}

/* === LI≈öCIE === */
.leaves-area { position:fixed; inset:0; pointer-events:none; z-index:998; }
.leaf { position:absolute; top:-10vh; will-change: transform, opacity; opacity:0.85; }

@keyframes fall {
  0%{ transform: translateY(-10vh) rotate(var(--start-rot)); opacity:0.8; }
  100%{ transform: translateY(calc(100vh - 10px)) rotate(calc(var(--start-rot) + var(--spin-deg))); opacity:1; }
}

@keyframes sway {
  0%{ transform: translateX(0) rotate(0deg); }
  50%{ transform: translateX(var(--sway-offset)) rotate(10deg); }
  100%{ transform: translateX(0) rotate(0deg); }
}

/* === ≈öNIEG === */
.snowflake {
  position: fixed;
  top: -10px;
  color: #fff;
  font-size: 12px;
  user-select: none;
  pointer-events: none;
  opacity: 0.9;
  filter: drop-shadow(0 0 3px white);
  animation: snowFall linear forwards, snowSway ease-in-out infinite;
}

@keyframes snowFall {
  0% { transform: translateY(-10vh); }
  100% { transform: translateY(100vh); }
}

@keyframes snowSway {
  0% { transform: translateX(0); }
  50% { transform: translateX(20px); }
  100% { transform: translateX(0); }
}

</style>
</head>
<body>

<!-- PRZE≈ÅƒÑCZNIK P√ìR ROKU -->
<div class="season-switcher">
  <button onclick="setSeason('spring')">üå∏ Wiosna</button>
  <button onclick="setSeason('summer')">üåø Lato</button>
  <button onclick="setSeason('autumn')">üçÇ Jesie≈Ñ</button>
  <button onclick="setSeason('winter')">‚ùÑÔ∏è Zima</button>
</div>

<header>
  <h1>Spichlerz z FantazjƒÖ</h1>
  <p>Tradycja, smak i atmosfera w samym sercu Braniewa</p>
</header>

<section class="hero-image">
  <img src="img/Spichlerz_Mariacki_ul_Portowa_Braniewo_7726036.jpg" alt="Restauracja">
</section>

<section class="hero">
  <a href="menu.html"><img src="img/menu.jpg" alt="Menu"></a>
  <a href="kontakt.html"><img src="img/kontakt.jpg" alt="Kontakt"></a>
</section>

<section class="section about">
  <h2>O nas</h2>
  <p>Restauracja ‚ÄûSpichlerz z FantazjƒÖ‚Äù to wyjƒÖtkowe miejsce, ≈ÇƒÖczƒÖce historiƒô z nowoczesno≈õciƒÖ...</p>
</section>

<section class="section daily-special">
  <h1>Nasze danie dnia</h1>
</section>

<section class="section" id="qr">
  <h2>üì≤ Zeskanuj, aby zobaczyƒá menu</h2>
  <img src="https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=https%3A%2F%2Fkajak84.github.io%2FSpichlerz-z--fantazja%2Fmenu.html">
</section>

<footer>
  &copy; 2025 Spichlerz z FantazjƒÖ
</footer>

<!-- LI≈öCIE -->
<div class="leaves-area" aria-hidden="true"></div>
<template id="leaf-template"><div class="leaf"></div></template>

<script>
// =============================
//   AUTO WYKRYWANIE SEZONU
// =============================
function autoDetectSeason() {
  const month = new Date().getMonth() + 1;
  if (month >= 3 && month <= 5) return "spring";
  if (month >= 6 && month <= 8) return "summer";
  if (month >= 9 && month <= 11) return "autumn";
  return "winter";
}

// =============================
//   KONFIGURACJE P√ìR ROKU
// =============================
const seasons = {
  spring: {
    colors: ['#a4d792', '#c8f0c2', '#8cd47e', '#dfffe4'],
    svgs: [
      '<svg viewBox="0 0 64 64"><circle cx="32" cy="32" r="10" fill="currentColor"/></svg>',
      '<svg viewBox="0 0 64 64"><path d="M32 6l10 10-10 10-10-10z" fill="currentColor"/></svg>'
    ],
    minSize: 20, maxSize: 40
  },

  summer: {
    colors: ['#3fa34d','#2e7d32','#76c893','#4caf50'],
    svgs: [
      '<svg viewBox="0 0 64 64"><path d="M32 4c8 12 16 24 0 40S8 16 16 4z" fill="currentColor"/></svg>'
    ],
    minSize: 25, maxSize: 50
  },

  autumn: {
    colors: ['#b24b2f','#d97a3a','#f2c96d','#7a3f2a','#9c5b3a'],
    svgs: [
      '<svg viewBox="0 0 64 64"><path d="M22 6c10 0 20 8 22 16s-2 20-12 24-22 0-26-12S12 6 22 6z" fill="currentColor"/></svg>'
    ],
    minSize: 28, maxSize: 70
  },

  winter: {
    colors: ['#ffffff','#cfe8ff','#d6f0ff','#e0f7ff'],
    svgs: [
      '<svg viewBox="0 0 64 64"><path d="M32 6l6 10 10 6-10 6-6 10-6-10-10-6 10-6z" fill="currentColor"/></svg>'
    ],
    minSize: 20, maxSize: 40
  }
};

let currentSeason = localStorage.getItem("season") || autoDetectSeason();

// =============================
//   ZMIANA PORY ROKU
// =============================
function setSeason(season) {
  currentSeason = season;
  localStorage.setItem("season", season);
  clearLeaves();
}

// =============================
//   USUWANIE STARYCH LI≈öCI
// =============================
function clearLeaves() {
  document.querySelectorAll('.leaf').forEach(l => l.remove());
}

// =============================
//   GENERATOR LI≈öCI
// =============================
(function () {
  const area = document.querySelector('.leaves-area');
  const tpl = document.getElementById('leaf-template');

  function rand(min, max){ return Math.random()*(max-min)+min }

  function createLeaf() {
    const cfg = seasons[currentSeason];
    const node = tpl.content.firstElementChild.cloneNode(true);

    const size = Math.round(rand(cfg.minSize, cfg.maxSize));
    const left = Math.round(rand(0, 100));

    const duration = rand(10, 20);

    const startRot = Math.round(rand(-45,45)) + 'deg';
    const spinDeg  = Math.round(rand(180, 720)) + 'deg';

    const color = cfg.colors[Math.floor(rand(0, cfg.colors.length))];
    const svg = cfg.svgs[Math.floor(rand(0, cfg.svgs.length))];

    node.style.left = left + '%';
    node.style.width = size + 'px';
    node.style.color = color;
    node.style.setProperty('--start-rot', startRot);
    node.style.setProperty('--spin-deg', spinDeg);
    node.style.setProperty('--sway-offset', Math.round(rand(20, 60)) + 'px');
    node.style.animation = `fall ${duration}s linear forwards`;

    const wrap = document.createElement('div');
    wrap.style.width = '100%';
    wrap.style.height = '100%';
    wrap.style.animation = `sway ${rand(5,12)}s ease-in-out infinite`;
    wrap.innerHTML = svg;

    node.appendChild(wrap);
    area.appendChild(node);

    setTimeout(() => node.remove(), duration * 1000);
  }

  setInterval(createLeaf, 900);
})();
  
// =============================
//   ≈öNIEG ZIMƒÑ
// =============================
function createSnowflake() {
  if (currentSeason !== "winter") return;

  const flake = document.createElement("div");
  flake.classList.add("snowflake");
  flake.textContent = "‚ùÑ";

  const size = Math.random() * 10 + 10;
  const left = Math.random() * 100;

  flake.style.left = left + "vw";
  flake.style.fontSize = size + "px";
  flake.style.animationDuration = (Math.random() * 10 + 10) + "s";

  document.body.appendChild(flake);

  setTimeout(() => flake.remove(), 15000);
}

setInterval(createSnowflake, 200);
</script>
</body>
</html>
