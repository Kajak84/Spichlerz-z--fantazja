<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title data-i18n="title">Spichlerz z Fantazją</title>
<meta name="description" content="Restauracja Spichlerz z Fantazją w Braniewie – tradycja, smak i atmosfera w samym sercu miasta. Zobacz menu, wydarzenia i kontakt.">
<meta name="keywords" content="restauracja, Braniewo, menu, Spichlerz z Fantazją, wydarzenia, kontakt">
<meta name="author" content="Spichlerz z Fantazją">
<meta name="robots" content="index, follow">

<style>
body { font-family: Arial, sans-serif; margin:0; background-color:#e4d09b; overflow-x:hidden; }
header { background-color:#000; color:#fff; padding:20px; text-align:center; }
.hero-image { width:100%; display:flex; justify-content:center; margin:20px 0; overflow:hidden; height:400px; }
.hero-image img { width:100%; height:100%; object-fit:contain; border-radius:12px; box-shadow:0 4px 15px rgba(0,0,0,0.3); }
.hero { display:flex; justify-content:center; flex-wrap:wrap; gap:20px; padding:20px; }
.hero a img { width:300px; border-radius:10px; transition: transform 0.5s ease, filter 0.5s ease; }
.hero a img:hover { transform: scale(1.08) rotateY(3deg); filter: brightness(1.1); }
.section { padding:40px; text-align:center; opacity:0; transform: translateY(30px); transition: all 1s ease; }
.section.visible { opacity:1; transform:translateY(0); }
footer { background:#000; color:#fff; padding:20px; text-align:center; }

.leaves-area { position:fixed; inset:0; pointer-events:none; z-index:999; }
.leaf { position:absolute; top:-10vh; will-change: transform, opacity; opacity:0.9; }

@keyframes fall {
  0% { transform: translateY(-10vh) rotate(var(--start-rot)); opacity:0.8; }
  50% { transform: translateY(50vh) rotate(calc(var(--start-rot) + var(--spin-deg)/2)); opacity:0.9; }
  100% { transform: translateY(100vh) rotate(calc(var(--start-rot) + var(--spin-deg))); opacity:1; }
}

@keyframes sway {
  0% { transform: translateX(0) rotate(0deg); }
  25% { transform: translateX(var(--sway-offset)) rotate(8deg); }
  50% { transform: translateX(0) rotate(-8deg); }
  75% { transform: translateX(calc(-1 * var(--sway-offset))) rotate(4deg); }
  100% { transform: translateX(0) rotate(0deg); }
}
</style>
</head>
<body>

<header>
  <h1 data-i18n="title">Spichlerz z Fantazją</h1>
  <p data-i18n="subtitle">Tradycja, smak i atmosfera w samym sercu Braniewa</p>
</header>

<section class="hero-image">
  <img src="img/Spichlerz_Mariacki_ul_Portowa_Braniewo_7726036.jpg" alt="Restauracja">
</section>

<section class="hero">
  <a href="menu.html"><img src="img/menu.jpg" alt="Menu restauracji Spichlerz z Fantazją"></a>
  <a href="kontakt.html"><img src="img/kontakt.jpg" alt="Kontakt do restauracji Spichlerz z Fantazją"></a>
</section>

<section class="section about">
  <h2 data-i18n="aboutTitle">O nas</h2>
  <p data-i18n="aboutText">Restauracja „Spichlerz z Fantazją” to wyjątkowe miejsce, łączące historię z nowoczesnością...</p>
</section>

<footer>
  &copy; 2025 Spichlerz z Fantazją
</footer>

<div class="leaves-area" aria-hidden="true"></div>
<template id="leaf-template"><div class="leaf"></div></template>

<script>
// Animacja sekcji
const sections = document.querySelectorAll('.section');
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => { if(entry.isIntersecting) entry.target.classList.add('visible'); });
}, { threshold: 0.2 });
sections.forEach(sec => observer.observe(sec));

// Liście
const area = document.querySelector('.leaves-area');
const tpl = document.getElementById('leaf-template');
const config = {
  colors: ['#b24b2f','#d97a3a','#f2c96d','#7a3f2a','#9c5b3a'],
  minSize: 28,
  maxSize: 70,
  minDuration: 10,
  maxDuration: 20,
  maxSway: 60,
  svgs: [
    '<svg viewBox="0 0 64 64"><path d="M32 2l6 12 12-6-6 12 12 6-12 6 6 12-12-6-6 12-6-12-12 6 6-12-12-6 12-6-6-12 12 6z" fill="currentColor"/></svg>',
    '<svg viewBox="0 0 64 64"><path d="M32 4c-6 4-12 8-14 14s0 14 6 20c6 6 14 10 20 6s8-14 6-20-8-10-18-20z" fill="currentColor"/></svg>',
    '<svg viewBox="0 0 64 64"><path d="M22 6c10 0 20 8 22 16s-2 20-12 24-22 0-26-12S12 6 22 6z" fill="currentColor"/></svg>',
    '<svg viewBox="0 0 64 64"><path d="M18 4c12 4 24 12 26 22s-6 20-16 22-20-4-22-14S6 0 18 4z" fill="currentColor"/></svg>'
  ]
};

function rand(min,max){ return Math.random()*(max-min)+min }

function createLeaf(){
  const node = tpl.content.firstElementChild.cloneNode(true);
  const size = Math.round(rand(config.minSize, config.maxSize));
  const left = Math.round(rand(0,100));
  const duration = rand(config.minDuration, config.maxDuration);
  const swayDuration = rand(5,12);
  const swayOffset = Math.round(rand(20, config.maxSway));
  const startRot = Math.round(rand(-45,45))+'deg';
  const spinDeg = Math.round(rand(180,720))+'deg';
  const color = config.colors[Math.floor(rand(0, config.colors.length))];
  const svg = config.svgs[Math.floor(rand(0, config.svgs.length))];

  node.style.left = left+'%';
  node.style.width = size+'px';
  node.style.color = color;
  node.style.setProperty('--start-rot', startRot);
  node.style.setProperty('--spin-deg', spinDeg);
  node.style.setProperty('--sway-offset', swayOffset+'px');
  node.style.animation = `fall ${duration}s linear forwards`;

  const swayWrap = document.createElement('div');
  swayWrap.style.width = '100%';
  swayWrap.style.height = '100%';
  swayWrap.style.display = 'block';
  swayWrap.style.animation = `sway ${swayDuration}s ease-in-out infinite`;
  swayWrap.innerHTML = svg;
  node.appendChild(swayWrap);

  area.appendChild(node);

  // Po zakończeniu animacji ustaw liść na dole
  setTimeout(() => {
    node.style.top = 'auto';
    node.style.bottom = '0px';
    node.style.animation = 'none';
    swayWrap.style.animation = 'sway 3s ease-in-out infinite'; // lekko się kołysze na dywanie
  }, duration*1000);
}

setInterval(createLeaf, 800);
</script>

</body>
</html>
