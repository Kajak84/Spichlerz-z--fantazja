<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title data-i18n="title">Spichlerz z FantazjƒÖ</title>
<meta name="description" content="Restauracja Spichlerz z FantazjƒÖ w Braniewie ‚Äì tradycja, smak i atmosfera w samym sercu miasta. Zobacz menu, wydarzenia i kontakt.">
<meta name="keywords" content="restauracja, Braniewo, menu, Spichlerz z FantazjƒÖ, wydarzenia, kontakt">
<meta name="author" content="Spichlerz z FantazjƒÖ">
<meta name="robots" content="index, follow">

<style>
body { font-family: Arial, sans-serif; margin: 0; background-color: #e4d09b; overflow-x: hidden; }
header { background-color: #000; color: white; padding: 20px; text-align: center; }
.hero-image { width: 100%; display: flex; justify-content: center; margin: 20px 0; overflow: hidden; height: 400px; }
.hero-image img { width: 100%; height: 100%; object-fit: contain; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
.hero { display: flex; justify-content: center; flex-wrap: wrap; gap: 20px; padding: 20px; }
.hero a img { width: 300px; height: auto; border-radius: 10px; object-fit: cover; transition: transform 0.5s ease, filter 0.5s ease; }
.hero a img:hover { transform: scale(1.08) rotateY(3deg); filter: brightness(1.1); }
.section { padding: 40px; text-align: center; opacity: 0; transform: translateY(30px); transition: all 1s ease; }
.section.visible { opacity: 1; transform: translateY(0); }
.about { background-color: #fef3e2; }
  .daily-special h1 {
  color: #fff;
}

.daily-special { background-color: #000; }
#qr { background-color: rgba(254, 243, 226, 1); }
footer { background:#000; color:#FFF; padding:20px; text-align:center; }

/* LANGUAGE SWITCHER */
.language-switcher { position: fixed; top: 10px; right: 10px; z-index: 1002; background: rgba(255, 255, 255, 0.9); padding: 6px 10px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.2); }
.language-switcher img { width: 28px; margin: 0 5px; cursor: pointer; opacity: 0.8; transition: opacity 0.3s, border 0.3s; vertical-align:middle; }
.language-switcher img:hover { opacity: 1; }
.language-switcher img.active { border: 2px solid #000; opacity: 1; border-radius: 4px; }

/* SEASON SWITCHER */
.season-switcher {
  position: fixed;
  top: 60px;
  right: 10px;
  z-index: 1002;
  display: flex;
  flex-direction: column;
  gap: 6px;
  background: transparent;
}
.season-switcher button {
  padding: 6px 10px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  font-size: 14px;
  background: rgba(255,255,255,0.95);
  transition: 0.2s;
  box-shadow: 0 1px 4px rgba(0,0,0,0.12);
}
.season-switcher button:hover { background: #000; color: #fff; }

/* SPADAJƒÑCE LI≈öCIE */
.leaves-area { position:fixed; inset:0; pointer-events:none; z-index:999; }
.leaf { position:absolute; top:-10vh; will-change: transform, opacity; opacity:0.95; display:block; }
@keyframes fall {
  0%{ transform: translateY(-10vh) rotate(var(--start-rot)); opacity:0.8; }
  50%{ transform: translateY(50vh) rotate(calc(var(--start-rot) + var(--spin-deg)/2)); opacity:0.9; }
  100%{ transform: translateY(calc(100vh - 10px)) rotate(calc(var(--start-rot) + var(--spin-deg))); opacity:1; }
}
@keyframes sway {
  0%{ transform: translateX(0) rotate(0deg); }
  25%{ transform: translateX(var(--sway-offset)) rotate(10deg); }
  50%{ transform: translateX(0) rotate(-10deg); }
  75%{ transform: translateX(calc(-1 * var(--sway-offset))) rotate(5deg); }
  100%{ transform: translateX(0) rotate(0deg); }
}

/* ≈öNIEG */
.snowflake {
  position: fixed;
  top: -10px;
  color: #fff;
  font-size: 12px;
  user-select: none;
  pointer-events: none;
  opacity: 0.95;
  filter: drop-shadow(0 0 6px rgba(255,255,255,0.6));
  z-index: 1001;
  animation-timing-function: linear;
  will-change: transform, opacity;
}

@keyframes snowFall {
  0% { transform: translateY(-10vh); opacity:0.9; }
  100% { transform: translateY(100vh); opacity:1; }
}
@keyframes snowSway {
  0% { transform: translateX(0); }
  50% { transform: translateX(20px); }
  100% { transform: translateX(0); }
}

/* RESPONSIVE */
@media(max-width:480px){ .hero a img { width: 200px; } iframe { width: 100% !important; height: 500px !important; } .hero-image { height: 250px; } }
</style>
</head>
<body>

<div class="language-switcher" aria-hidden="false">
  <img src="flags/pl.svg" alt="pl" onclick="setLanguage('pl')" />
  <img src="flags/gb.svg" alt="en" onclick="setLanguage('en')" />
  <img src="flags/de.svg" alt="de" onclick="setLanguage('de')" />
  <img src="flags/ua.svg" alt="ua" onclick="setLanguage('ua')" />
</div>

<!-- SEASON SWITCHER (rƒôczne sterowanie p√≥r roku) -->
<div class="season-switcher" aria-hidden="false">
  <button onclick="setSeason('spring')">üå∏ Wiosna</button>
  <button onclick="setSeason('summer')">üåø Lato</button>
  <button onclick="setSeason('autumn')">üçÇ Jesie≈Ñ</button>
  <button onclick="setSeason('winter')">‚ùÑÔ∏è Zima</button>
</div>

<header>
  <h1 data-i18n="title">Spichlerz z FantazjƒÖ</h1>
  <p data-i18n="subtitle">Tradycja, smak i atmosfera w samym sercu Braniewa</p>
</header>

<section class="hero-image">
  <img src="img/Spichlerz_Mariacki_ul_Portowa_Braniewo_7726036.jpg" alt="Restauracja">
</section>

<section class="hero">
  <a href="menu.html"><img src="img/menu.jpg" alt="Menu restauracji Spichlerz z FantazjƒÖ"></a>
  <a href="kontakt.html"><img src="img/kontakt.jpg" alt="Kontakt do restauracji Spichlerz z FantazjƒÖ"></a>
</section>

<section class="section about">
  <h2 data-i18n="aboutTitle">O nas</h2>
  <p data-i18n="aboutText">Restauracja ‚ÄûSpichlerz z FantazjƒÖ‚Äù to wyjƒÖtkowe miejsce, ≈ÇƒÖczƒÖce historiƒô z nowoczesno≈õciƒÖ...</p>
</section>

<section class="section daily-special">
  <h1 data-i18n="nasz">Nasze danie dnia</h1>
  <div id="daily-special-container">
    <div class="fb-post" data-href="https://www.facebook.com/fantazjabraniewo/posts/pfbid0d2yDz4Yyf7XdSbESwkUNNVLQAwWfF4rppw4KGSKXsJ5sP66diqMyUCrU6UvBcLavl" data-width="600"></div>
  </div>
</section>

<section class="section" id="qr">
  <h2 data-i18n="scan">üì≤ Zeskanuj, aby zobaczyƒá menu</h2>
  <img src="https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=https%3A%2F%2Fkajak84.github.io%2FSpichlerz-z--fantazja%2Fmenu.html" alt="Kod QR do menu">
</section>

<footer>
  &copy; 2025 Spichlerz z FantazjƒÖ
</footer>

<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/pl_PL/sdk.js#xfbml=1&version=v17.0"></script>

<!-- ELEMENTY ANIMACJI -->
<div class="leaves-area" aria-hidden="true"></div>
<template id="leaf-template"><div class="leaf"></div></template>

<script>
/* -------- Intersection observer dla sekcji (bez zmian) -------- */
const sections = document.querySelectorAll('.section');
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => { if(entry.isIntersecting) entry.target.classList.add('visible'); });
}, { threshold: 0.2 });
sections.forEach(sec => observer.observe(sec));

/* -------- T≈ÅUMACZENIA (bez zmian, tylko u≈ºywane dalej) -------- */
function setLanguage(lang) {
  document.documentElement.lang = lang;
  const translations = {
    pl:{ title:"Spichlerz z FantazjƒÖ", subtitle:"Tradycja, smak i atmosfera w samym sercu Braniewa", aboutTitle:"O nas", aboutText:"Restauracja ‚ÄûSpichlerz z FantazjƒÖ‚Äù to wyjƒÖtkowe miejsce, ≈ÇƒÖczƒÖce historiƒô z nowoczesno≈õciƒÖ...", nasz: "Nasze danie dnia", scan:"üì≤ Zeskanuj, aby zobaczyƒá menu" },
    en:{ title:"Spichlerz z FantazjƒÖ", subtitle:"Tradition, taste and atmosphere in the heart of Braniewo", aboutTitle:"About Us", aboutText:"The 'Spichlerz z FantazjƒÖ' restaurant is a unique place that combines history with modernity...", nasz: "Our dish of the day", scan:"üì≤ Scan to see the menu" },
    de:{ title:"Spichlerz z FantazjƒÖ", subtitle:"Tradition, Geschmack und Atmosph√§re im Herzen von Braniewo", aboutTitle:"√úber uns", aboutText:"Das Restaurant 'Spichlerz z FantazjƒÖ' ist ein einzigartiger Ort, der Geschichte mit Moderne verbindet...", nasz: "Unser Tagesgericht", scan:"üì≤ Scannen Sie, um das Men√º zu sehen" },
    ua:{ title:"Spichlerz z FantazjƒÖ", subtitle:"–¢—Ä–∞–¥–∏—Ü—ñ—ó, —Å–º–∞–∫ —Ç–∞ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –≤ —Å–∞–º–æ–º—É —Å–µ—Ä—Ü—ñ –ë—Ä–∞–Ω–µ–≤–æ", aboutTitle:"–ü—Ä–æ –Ω–∞—Å", aboutText:"–†–µ—Å—Ç–æ—Ä–∞–Ω '–°–ø–∏—á–ª–µ—Ä–∑ z FantazjƒÖ' ‚Äì —É–Ω—ñ–∫–∞–ª—å–Ω–µ –º—ñ—Å—Ü–µ, —â–æ –ø–æ—î–¥–Ω—É—î —ñ—Å—Ç–æ—Ä—ñ—é –∑ —Å—É—á–∞—Å–Ω—ñ—Å—Ç—é...", nasz: "–ù–∞—à–∞ —Å—Ç—Ä–∞–≤–∞ –¥–Ω—è", scan:"üì≤ –°–∫–∞–Ω—É–π—Ç–µ, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –º–µ–Ω—é" }
  };
  const elems = document.querySelectorAll('[data-i18n]');
  elems.forEach(el=>{
    const key = el.getAttribute('data-i18n');
    if(translations[lang] && translations[lang][key]) el.textContent = translations[lang][key];
  });
  document.querySelectorAll('.language-switcher img').forEach(img=>img.classList.toggle('active', img.alt===lang));
  localStorage.setItem('lang', lang);
}
document.addEventListener('DOMContentLoaded', ()=>setLanguage(localStorage.getItem('lang')||'pl'));

/* -------- Resize Facebook posts (bez zmian) -------- */
function resizeFacebookPosts() {
  const container = document.getElementById('daily-special-container');
  const fbPosts = container.querySelectorAll('.fb-post');
  fbPosts.forEach(post => { post.setAttribute('data-width', container.offsetWidth); });
  if (window.FB) FB.XFBML.parse(container);
}
window.addEventListener('load', resizeFacebookPosts);
window.addEventListener('resize', resizeFacebookPosts);

/* -------- SEZONY: automatyczne wykrywanie i konfiguracja -------- */
function autoDetectSeason() {
  const month = new Date().getMonth() + 1;
  if (month >= 3 && month <= 5) return "spring";    // marzec‚Äìmaj
  if (month >= 6 && month <= 8) return "summer";    // czerwiec‚Äìsierpie≈Ñ
  if (month >= 9 && month <= 11) return "autumn";   // wrzesie≈Ñ‚Äìlistopad
  return "winter";                                  // grudzie≈Ñ‚Äìluty
}

/* konfiguracje dla ka≈ºdej pory roku (kolory, SVGy, rozmiary) */
const seasons = {
  spring: {
    colors: ['#a4d792', '#c8f0c2', '#8cd47e', '#dfffe4'],
    svgs: [
      '<svg viewBox="0 0 64 64" width="100%" height="100%"><circle cx="32" cy="32" r="10" fill="currentColor"/></svg>',
      '<svg viewBox="0 0 64 64" width="100%" height="100%"><path d="M32 6l10 10-10 10-10-10z" fill="currentColor"/></svg>'
    ],
    minSize: 20, maxSize: 40
  },
  summer: {
    colors: ['#3fa34d','#2e7d32','#76c893','#4caf50'],
    svgs: [
      '<svg viewBox="0 0 64 64" width="100%" height="100%"><path d="M32 4c8 12 16 24 0 40S8 16 16 4z" fill="currentColor"/></svg>'
    ],
    minSize: 25, maxSize: 50
  },
  autumn: {
    colors: ['#b24b2f','#d97a3a','#f2c96d','#7a3f2a','#9c5b3a'],
    svgs: [
      '<svg viewBox="0 0 64 64" width="100%" height="100%"><path d="M22 6c10 0 20 8 22 16s-2 20-12 24-22 0-26-12S12 6 22 6z" fill="currentColor"/></svg>',
      '<svg viewBox="0 0 64 64" width="100%" height="100%"><path d="M32 2l6 12 12-6-6 12 12 6-12 6 6 12-12-6-6 12-6-12-12 6 6-12-12-6 12-6-6-12 12 6z" fill="currentColor"/></svg>'
    ],
    minSize: 28, maxSize: 70
  },
  winter: {
    colors: ['#ffffff','#cfe8ff','#d6f0ff','#e0f7ff'],
    svgs: [
      '<svg viewBox="0 0 64 64" width="100%" height="100%"><path d="M32 6l6 10 10 6-10 6-6 10-6-10-10-6 10-6z" fill="currentColor"/></svg>',
      '<svg viewBox="0 0 64 64" width="100%" height="100%"><path d="M32 2l4 14 14 4-14 4-4 14-4-14-14-4 14-4z" fill="currentColor"/></svg>'
    ],
    minSize: 18, maxSize: 40
  }
};

let currentSeason = localStorage.getItem('season') || autoDetectSeason();

/* funkcja zmiany sezonu (rƒôcznie) */
function setSeason(season) {
  currentSeason = season;
  localStorage.setItem('season', season);
  clearLeaves();
}

/* usuwa wszystkie obecne li≈õcie (i elementy, kt√≥re tworzymy) */
function clearLeaves() {
  document.querySelectorAll('.leaf').forEach(l => l.remove());
  // tak≈ºe usu≈Ñ ≈õnie≈ºynki (je≈õli jakie≈õ sƒÖ)
  document.querySelectorAll('.snowflake').forEach(s => s.remove());
}

/* -------- GENERATOR LI≈öCI (dzia≈Ça permanentnie, tworzy li≈õcie wg currentSeason) -------- */
(function(){
  const area = document.querySelector('.leaves-area');
  const tpl = document.getElementById('leaf-template');

  function rand(min, max){ return Math.random()*(max-min)+min; }

  function createLeaf(){
    const cfg = seasons[currentSeason] || seasons.autumn;
    const node = tpl.content.firstElementChild.cloneNode(true);

    const size = Math.round(rand(cfg.minSize, cfg.maxSize));
    const left = Math.round(rand(0, 100));
    const duration = rand(8, 20);
    const swayDuration = rand(5, 12);
    const swayOffset = Math.round(rand(20, 60));
    const startRot = Math.round(rand(-45,45)) + 'deg';
    const spinDeg = Math.round(rand(180, 720)) + 'deg';
    const color = cfg.colors[Math.floor(rand(0, cfg.colors.length))];
    const svg = cfg.svgs[Math.floor(rand(0, cfg.svgs.length))];

    node.style.left = left + '%';
    node.style.width = size + 'px';
    node.style.color = color;
    node.style.setProperty('--start-rot', startRot);
    node.style.setProperty('--spin-deg', spinDeg);
    node.style.setProperty('--sway-offset', swayOffset + 'px');
    node.style.animation = `fall ${duration}s linear forwards`;

    const swayWrap = document.createElement('div');
    swayWrap.style.width = '100%';
    swayWrap.style.height = '100%';
    swayWrap.style.display = 'block';
    swayWrap.style.animation = `sway ${swayDuration}s ease-in-out infinite`;
    swayWrap.innerHTML = svg;
    node.appendChild(swayWrap);

    area.appendChild(node);

    // Po zako≈Ñczeniu animacji usu≈Ñ li≈õƒá, ≈ºeby DOM nie r√≥s≈Ç w niesko≈Ñczono≈õƒá
    setTimeout(() => {
      if (node && node.parentNode) node.remove();
    }, duration*1000 + 200);

  }

  // Tworzymy li≈õƒá co 700ms, ale w trybie zimowym mo≈ºemy tworzyƒá mniej li≈õci i wiƒôcej ≈õniegu
  setInterval(() => {
    if (currentSeason === 'winter') {
      // w zimie tworzymy mniej li≈õci ‚Äî zostawimy g≈Ç√≥wnie ≈õnieg
      if (Math.random() < 0.15) createLeaf();
    } else {
      createLeaf();
    }
  }, 700);
})();

/* -------- ≈öNIEG w zimie -------- */
(function(){
  function rand(min,max){ return Math.random()*(max-min)+min; }

  function createSnowflake(){
    if (currentSeason !== 'winter') return;
    const flake = document.createElement('div');
    flake.className = 'snowflake';
    // u≈ºywamy emoji ≈õnie≈ºynki; mo≈ºesz zmieniƒá na SVG je≈õli wolisz
    flake.textContent = '‚ùÑ';

    const size = Math.round(rand(10, 24));
    const left = Math.round(rand(0, 100));
    const duration = rand(8, 20);
    const sway = rand(3, 8);

    flake.style.left = left + 'vw';
    flake.style.fontSize = size + 'px';
    flake.style.opacity = (rand(0.6,1)).toFixed(2);
    flake.style.animationDuration = duration + 's';
    // dodajemy osobne sway (efekt bocznego ruchu)
    flake.style.animationName = 'snowFall';
    flake.style.transition = 'transform 0.2s linear';
    document.body.appendChild(flake);

    // dodatkowa delikatna animacja boczna
    flake.animate([
      { transform: 'translateX(0px)' },
      { transform: `translateX(${Math.round(rand(-40,40))}px)` },
      { transform: 'translateX(0px)' }
    ], { duration: sway*1000, iterations: Infinity, direction: 'alternate', easing: 'ease-in-out' });

    // sprzƒÖtanie po czasie trwania animacji
    setTimeout(()=> {
      if (flake && flake.parentNode) flake.remove();
    }, (duration+1) * 1000);
  }

  // co 180ms pr√≥bujemy dodaƒá nowƒÖ p≈Çatkƒô; createSnowflake sprawdza currentSeason
  setInterval(createSnowflake, 180);
})();

/* Uwaga: currentSeason mo≈ºe zmieniaƒá siƒô rƒôcznie ‚Äî clearLeaves usuwa stare elementy.
   Automatyczny wyb√≥r sezonu ustawia currentSeason podczas za≈Çadowania strony. */
document.addEventListener('DOMContentLoaded', ()=>{
  // ustaw domy≈õlny sezon je≈õli nie ma w localStorage
  if(!localStorage.getItem('season')) {
    currentSeason = autoDetectSeason();
  } else {
    currentSeason = localStorage.getItem('season');
  }
  // ustaw aktywno≈õƒá flag jƒôzyka (je≈õli by≈Ça ustawiona wcze≈õniej)
  const lang = localStorage.getItem('lang') || 'pl';
  setLanguage(lang);
});

/* --- opcjonalne: je≈õli chcesz umo≈ºliwiƒá "automatyczne" ustawianie pory roku zamiast wyboru u≈ºytkownika,
   mo≈ºesz odkomentowaƒá poni≈ºsze i usunƒÖƒá zapis do localStorage w setSeason.
   Tutaj zostawiamy zapis, ≈ºeby u≈ºytkownik m√≥g≈Ç nadpisaƒá auto-wykrywanie. */

/* -------- KONIEC SKRYPTU -------- */
</script>

</body>
</html>
