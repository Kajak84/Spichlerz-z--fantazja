<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title data-i18n="title">Spichlerz z FantazjƒÖ</title>
<style>
body { font-family: Arial, sans-serif; margin:0; background:#e4d09b; overflow-x:hidden; }
header, .hero-image, .hero, .section, footer, #daily-special-container, #qr img { position:relative; z-index:5; }
header { background:#000; color:white; padding:20px; text-align:center; }
.hero-image { width:100%; display:flex; justify-content:center; margin:20px 0; overflow:hidden; height:400px; }
.hero-image img { width:100%; height:100%; object-fit:contain; border-radius:12px; box-shadow:0 4px 15px rgba(0,0,0,0.3); }
.hero { display:flex; justify-content:center; flex-wrap:wrap; gap:20px; padding:20px; }
.hero a img { width:300px; border-radius:10px; transition:transform 0.5s ease, filter 0.5s ease; }
.hero a img:hover { transform: scale(1.08) rotateY(3deg); filter: brightness(1.1); }
.section { padding:40px; text-align:center; opacity:0; transform:translateY(30px); transition: all 1s ease; }
.section.visible { opacity:1; transform:translateY(0); }
.about { background:#fef3e2; }

.daily-special {
    background: radial-gradient(circle at top left, #333 0%, #000 100%);
    color:#fff; display:flex; justify-content:center; align-items:center; flex-direction:column;
    padding:60px 20px; text-align:center; border-radius:12px; max-width:800px; margin:0 auto 40px auto;
    box-shadow:0 10px 30px rgba(0,0,0,0.7), inset 0 0 50px rgba(255,200,100,0.1);
}
.daily-special h1 { margin-bottom:10px; font-size:32px; }
.daily-special p { font-size:18px; font-style:italic; margin-bottom:30px; }
.daily-special .fb-post { width:100% !important; max-width:600px; margin:20px auto 0 auto; background:rgba(0,0,0,0.6); padding:20px; border-radius:10px; }

#qr { background:#000; color:#fff; width:100%; text-align:center; padding:40px 20px; margin:0 auto; z-index:5; position:relative; }
#qr img { margin-top:20px; border:3px solid #1e90ff; border-radius:10px; }
footer { background:#000; color:#FFF; padding:20px; text-align:center; }

.effects-area { position:fixed; inset:0; pointer-events:none; z-index:0; perspective:1000px; overflow:hidden; }
.effect-item { position:absolute; top:-50px; pointer-events:none; transform-style:preserve-3d; will-change: transform, opacity; font-size:0; }
@keyframes floatFall {
    0% { transform: translate3d(var(--x), -50px, var(--z)) rotate(0deg); opacity:0; }
    25% { transform: translate3d(calc(var(--x) + var(--dx)), 25vh, var(--z2)) rotate(60deg); opacity:0.7; }
    50% { transform: translate3d(calc(var(--x) - var(--dx)), 50vh, var(--z)) rotate(120deg); opacity:0.85; }
    75% { transform: translate3d(calc(var(--x) + var(--dx)/2), 75vh, var(--z2)) rotate(240deg); opacity:0.9; }
    100% { transform: translate3d(var(--x2), 110vh, var(--z2)) rotate(360deg); opacity:1; }
}

.language-switcher { position: fixed; top:10px; right:10px; z-index:10; background: rgba(255,255,255,0.9); padding:6px 10px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.2);}
.language-switcher img { width:28px; margin:0 5px; cursor:pointer; opacity:0.8; transition:opacity 0.3s, border 0.3s;}
.language-switcher img:hover{opacity:1;}
.language-switcher img.active{border:2px solid #000; opacity:1; border-radius:4px;}

.season-switcher { position: fixed; top:50px; right:10px; z-index:10; background: rgba(255,255,255,0.9); padding:10px 14px; border-radius:14px; box-shadow:0 3px 8px rgba(0,0,0,0.3); display:flex; gap:10px; font-size:24px;}
.season-switcher div { cursor:pointer; transition: transform 0.3s; }
.season-switcher div:hover { transform: scale(1.2); }
.season-switcher .active { border-bottom:3px solid black; }

@media(max-width:480px){ .hero a img{width:200px;} .hero-image{height:250px;} iframe{width:100%!important;height:500px!important;} }
</style>
</head>
<body>

<div class="language-switcher">
  <img src="flags/pl.svg" alt="pl" onclick="setLanguage('pl')" />
  <img src="flags/gb.svg" alt="en" onclick="setLanguage('en')" />
  <img src="flags/de.svg" alt="de" onclick="setLanguage('de')" />
  <img src="flags/ua.svg" alt="ua" onclick="setLanguage('ua')" />
</div>

<header>
  <h1 data-i18n="title">Spichlerz z FantazjƒÖ</h1>
  <p data-i18n="subtitle">Tradycja, smak i atmosfera w samym sercu Braniewa</p>
</header>

<section class="hero-image">
  <img src="img/Spichlerz_Mariacki_ul_Portowa_Braniewo_7726036.jpg" alt="Restauracja">
</section>

<section class="hero">
  <a href="menu.html"><img src="img/menu.jpg" alt="Menu"></a>
  <a href="kontakt.html"><img src="img/kontakt.jpg" alt="Kontakt"></a>
</section>

<section class="section about">
  <h2 data-i18n="aboutTitle">O nas</h2>
  <p data-i18n="aboutText">Restauracja ‚ÄûSpichlerz z FantazjƒÖ‚Äù to wyjƒÖtkowe miejsce, ≈ÇƒÖczƒÖce historiƒô z nowoczesno≈õciƒÖ...</p>
</section>

<section class="section daily-special">
  <h1 data-i18n="nasz">Nasze danie dnia</h1>
  <p>Tradycja, smak i atmosfera w samym sercu Braniewa</p>
  <div id="daily-special-container">
      <div id="fallback-dish" style="color:#fff; font-size:22px; padding:20px;">
          Nasze danie dnia jest tradycyjne i smaczne!
      </div>
  </div>
</section>

<section id="qr">
  <h2 data-i18n="scan">üì≤ Zeskanuj, aby zobaczyƒá menu</h2>
  <img src="https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=https%3A%2F%2Fkajak84.github.io%2FSpichlerz-z--fantazja%2Fmenu.html" alt="Kod QR do menu">
</section>

<footer>&copy; 2025 Spichlerz z FantazjƒÖ</footer>

<div class="effects-area" id="effects"></div>
<div class="season-switcher" id="seasonSwitcher">
  <div data-season="spring">üå∏</div>
  <div data-season="summer">ü¶ã</div>
  <div data-season="autumn">üçÇ</div>
  <div data-season="winter">‚ùÑÔ∏è</div>
</div>

<script>
// Efekty t≈Ça 3D
const effectsArea = document.getElementById("effects");
let interval3D = null;
const maxElements = 50;

function rand(min,max){ return Math.random()*(max-min)+min; }

function create3DEffect(season){
    if(effectsArea.children.length >= maxElements) return;
    const el = document.createElement('div');
    el.className='effect-item';
    const x=rand(0, window.innerWidth)+'px';
    const z=rand(-200,200)+'px';
    const x2=rand(0, window.innerWidth)+'px';
    const z2=rand(-200,200)+'px';
    const dx=rand(20,100)+'px';
    el.style.setProperty('--x', x);
    el.style.setProperty('--z', z);
    el.style.setProperty('--x2', x2);
    el.style.setProperty('--z2', z2);
    el.style.setProperty('--dx', dx);
    el.style.animation=`floatFall ${rand(10,18)}s linear forwards`;
    switch(season){
        case 'spring': el.innerHTML='<svg viewBox="0 0 64 64" width="24" height="24" fill="#ff69b4"><circle cx="32" cy="32" r="6"/></svg>'; break;
        case 'summer': el.innerHTML='<svg viewBox="0 0 64 64" width="28" height="28" fill="#ffcc00"><path d="M32 2c5 8 15 10 16 18s-8 14-16 14-16-6-16-14 11-10 16-18z"/></svg>'; break;
        case 'autumn': const colors=['#d9822b','#f0a040','#a0522d']; el.innerHTML=`<svg viewBox="0 0 64 64" width="22" height="22" fill='${colors[Math.floor(Math.random()*colors.length)]}'><path d="M32 2c6 10 20 20 14 32s-20 10-26 0 0-22 12-32z"/></svg>`; break;
        case 'winter': el.innerHTML='<svg viewBox="0 0 64 64" width="18" height="18" fill="#dff8ff"><path d="M32 2l6 12 12-6-6 12 12 6-12 6 6 12-12-6-6 12-6-12-12 6 6-12-12-6 12-6-6-12 12 6z"/></svg>'; break;
    }
    effectsArea.appendChild(el);
    setTimeout(()=>el.remove(),18000);
}

function startSeason3D(season){
    if(interval3D) clearInterval(interval3D);
    interval3D=setInterval(()=>create3DEffect(season),350);
    localStorage.setItem('season',season);
}

document.querySelectorAll("#seasonSwitcher div").forEach(btn=>{
    btn.onclick=()=>{
        document.querySelectorAll("#seasonSwitcher div").forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        startSeason3D(btn.dataset.season);
    };
});
const saved=localStorage.getItem("season")||"spring";
document.querySelectorAll("#seasonSwitcher div").forEach(b=>{ if(b.dataset.season===saved)b.classList.add("active"); });
startSeason3D(saved);

// Language
function setLanguage(lang) {
  document.documentElement.lang=lang;
  const translations = {
    pl:{ title:"Spichlerz z FantazjƒÖ", subtitle:"Tradycja, smak i atmosfera w samym sercu Braniewa", aboutTitle:"O nas", aboutText:"Restauracja ‚ÄûSpichlerz z FantazjƒÖ‚Äù to wyjƒÖtkowe miejsce, ≈ÇƒÖczƒÖce historiƒô z nowoczesno≈õciƒÖ...", nasz:"Nasze danie dnia", scan:"üì≤ Zeskanuj, aby zobaczyƒá menu" },
    en:{ title:"Spichlerz z FantazjƒÖ", subtitle:"Tradition, taste and atmosphere in the heart of Braniewo", aboutTitle:"About Us", aboutText:"The 'Spichlerz z FantazjƒÖ' restaurant is a unique place that combines history with modernity...", nasz:"Our dish of the day", scan:"üì≤ Scan to see the menu" },
    de:{ title:"Spichlerz z FantazjƒÖ", subtitle:"Tradition, Geschmack und Atmosph√§re im Herzen von Braniewo", aboutTitle:"√úber uns", aboutText:"Das Restaurant 'Spichlerz z FantazjƒÖ' ist ein einzigartiger Ort, der Geschichte mit Moderne verbindet...", nasz:"Unser Tagesgericht", scan:"üì≤ Scannen Sie, um das Men√º zu sehen" },
    ua:{ title:"Spichlerz z FantazjƒÖ", subtitle:"–¢—Ä–∞–¥–∏—Ü—ñ—ó, —Å–º–∞–∫ —Ç–∞ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –≤ —Å–∞–º–æ–º—É —Å–µ—Ä—Ü—ñ –ë—Ä–∞–Ω–µ–≤–æ", aboutTitle:"–ü—Ä–æ –Ω–∞—Å", aboutText:"–†–µ—Å—Ç–æ—Ä–∞–Ω '–°–ø–∏—á–ª–µ—Ä–∑ z FantazjƒÖ' ‚Äì —É–Ω—ñ–∫–∞–ª—å–Ω–µ –º—ñ—Å—Ü–µ, —â–æ –ø–æ—î–¥–Ω—É—î —ñ—Å—Ç–æ—Ä—ñ—é –∑ —Å—É—á–∞—Å–Ω—ñ—Å—Ç—é...", nasz:"–ù–∞—à–∞ —Å—Ç—Ä–∞–≤–∞ –¥–Ω—è", scan:"üì≤ –°–∫–∞–Ω—É–π—Ç–µ, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –º–µ–Ω—é" }
  };
  document.querySelectorAll('[data-i18n]').forEach(el=>el.textContent=translations[lang][el.getAttribute('data-i18n')]);
  document.querySelectorAll('.language-switcher img').forEach(img=>img.classList.toggle('active', img.alt===lang));
  localStorage.setItem('lang', lang);
}
document.addEventListener('DOMContentLoaded', ()=>setLanguage(localStorage.getItem('lang')||'pl'));

// Danie dnia z fallbackiem
function loadDailySpecial() {
    const container = document.getElementById('daily-special-container');
    const fallback = document.getElementById('fallback-dish');
    const manualPosts = [
        "https://www.facebook.com/fantazjabraniewo/posts/pfbid02jNnS1qZejgHooatJYWoJLwydv16gw4n23XgQqZFrfNbmFijNHPaNuHWunrpGonrQl"
    ];
    if(window.FB && manualPosts.length>0){
        manualPosts.forEach(url=>{
            const div=document.createElement('div');
            div.className='fb-post';
            div.setAttribute('data-href',url);
            div.setAttribute('data-width','600');
            container.appendChild(div);
        });
        FB.XFBML.parse(container);
        if(fallback) fallback.style.display='none';
    }
}
window.addEventListener('load', loadDailySpecial);
</script>

<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/pl_PL/sdk.js#xfbml=1&version=v17.0"></script>

</body>
</html>
